<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BidMyRoom Search Card</title>

    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts - Inter for excellent lowercase readability -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Green screen background for compositing in video */
      body {
        /* background-color: #00ff00; */
        font-family: "Manrope", sans-serif;
      }

      :root {
        /* Dark Theme Variables (Default) */
        --bg-screen: rgba(10, 10, 10, 0.68);
        --border-screen: rgba(255, 255, 255, 0.16);

        --bg-status-bar: #1f1f1f;
        --text-status-bar: #fff;
        --battery-border: #f5f5f5;
        --battery-fill: #4caf50;

        --text-primary: #ffffff;
        --text-secondary: #d1d5db;

        --border-card: rgba(255, 255, 255, 0.1);

        --text-card-name-unread: #ffffff;
        --text-card-details-unread: #f0f0f0;
        --text-card-time-unread: #60a5fa;
        --unread-dot: #60a5fa;

        --text-card-name: #f9fafb;
        --text-card-details: #d1d5db;

        --text-price-gradient-start: #60a5fa;
        --text-price-gradient-end: #818cf8;
        --text-price-period: #9ca3af;

        --text-time: #9ca3af;

        --bg-system-msg: rgba(255, 255, 255, 0.1);
        --text-system-msg: #e5e7eb;

        --bg-tab-bar: rgba(25, 25, 25, 0.7);
        --border-tab-bar: rgba(255, 255, 255, 0.1);
        --text-tab-inactive: #8e8e93;
        --text-tab-active: #ffffff;

        --bg-add-btn-start: #60a5fa;
        --bg-add-btn-end: #818cf8;
        --shadow-add-btn: rgba(96, 165, 250, 0.4);

        --icon-color-add: white;
      }

      .light-theme {
        /* Light Theme Variables */
        --bg-screen: rgba(255, 255, 255);
        --border-screen: rgba(0, 0, 0, 0.1);

        --bg-status-bar: #ffffff;
        --text-status-bar: #000;
        --battery-border: #333;
        --battery-fill: #4cd964;

        --text-primary: #111827; /* gray-900 */
        --text-secondary: #6b7280; /* gray-500 */

        --border-card: rgba(0, 0, 0, 0.06);

        --text-card-name-unread: #111827;
        --text-card-details-unread: #374151; /* gray-700 */
        --text-card-time-unread: #0f81c0; /* Brand Blue */
        --unread-dot: #0f81c0;

        --text-card-name: #374151; /* gray-700 */
        --text-card-details: #6b7280; /* gray-500 */

        /* Using Brand Blue #0f81c0 to Tailwind Blue-500 #3b82f6 */
        --text-price-gradient-start: #0f81c0;
        --text-price-gradient-end: #3b82f6;
        --text-price-period: #9ca3af;

        --text-time: #9ca3af;

        --bg-system-msg: rgba(0, 0, 0, 0.05);
        --text-system-msg: #4b5563;

        --bg-tab-bar: rgba(255, 255, 255, 0.85);
        --border-tab-bar: rgba(0, 0, 0, 0.1);
        --text-tab-inactive: #9ca3af;
        --text-tab-active: #0f81c0; /* Brand Blue */

        --bg-add-btn-start: #0f81c0;
        --bg-add-btn-end: #3b82f6;
        --shadow-add-btn: rgba(15, 129, 192, 0.3);

        --icon-color-add: white;
      }

      /* Optional: lock to full viewport */
      .video-frame {
        width: 100vw;
        height: 100vh;
      }

      /* --- Styles for Inbox Animation --- */
      .inbox-animation-container {
        position: relative;
        width: 364px;
        height: 750px;
        transform: scale(1);
      }

      .iphone-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transition: transform 0.5s ease, opacity 0.5s ease;
        will-change: transform, opacity;
      }

      .iphone-skin {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 20;
        pointer-events: none;
      }

      .screen {
        position: absolute;
        top: 10px;
        left: 14px;
        right: 14px;
        bottom: 10px;
        border-radius: 44px;
        overflow: hidden;
        z-index: 1;
        display: flex;
        flex-direction: column;
        background: var(--bg-screen);
        /* box-shadow: 0 24px 80px rgba(0, 0, 0, 0.6); */
        backdrop-filter: blur(26px);
        -webkit-backdrop-filter: blur(26px);
        border: 1px solid var(--border-screen);
      }

      .status-bar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 25px 20px 15px;
        font-size: 11px;
        color: var(--text-status-bar);
        background: var(--bg-status-bar);
        z-index: 10;
        pointer-events: none;
      }

      .status-bar .status-right {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .status-bar .battery {
        width: 20px;
        height: 10px;
        border-radius: 3px;
        border: 1.5px solid var(--battery-border);
        position: relative;
      }

      .status-bar .battery::after {
        content: "";
        position: absolute;
        right: -3px;
        top: 2px;
        width: 2px;
        height: 6px;
        border-radius: 1px;
        background: var(--battery-border);
      }

      .status-bar .battery-level {
        position: absolute;
        top: 1px;
        left: 1px;
        right: 3px;
        bottom: 1px;
        border-radius: 2px;
        background: var(--battery-fill);
      }

      .chat-app {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        padding: 60px 0 84px 0;
        color: var(--text-primary);
      }

      .chat-header {
        padding: 0 20px;
        flex-shrink: 0;
      }

      .chat-header .title {
        font-family: "Manrope", sans-serif;
        font-size: 24px;
        font-weight: 800;
        color: var(--text-primary);
      }

      .chat-header .subtitle {
        font-size: 13px;
        color: var(--text-secondary);
      }

      .message-list {
        flex-grow: 1;
        padding: 0 15px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      .message-list::-webkit-scrollbar {
        display: none;
      }

      .bid-card {
        display: flex;
        gap: 12px;
        padding: 16px 0;
        border-bottom: 1px solid var(--border-card);
        opacity: 0;
        transform: scale(0.95);
        transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
          transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        will-change: opacity, transform;
      }

      .bid-card.anim-left {
        transform: translateX(-40px) scale(0.95);
      }
      .bid-card.anim-right {
        transform: translateX(40px) scale(0.95);
      }

      .bid-card:last-child {
        border-bottom: none;
      }

      .bid-card.is-visible {
        opacity: 1;
        transform: translateX(0) scale(1);
      }

      .bid-card {
        position: relative;
      }
      .bid-card.unread .name {
        font-weight: 800;
        color: var(--text-card-name-unread);
      }
      .bid-card.unread .details {
        color: var(--text-card-details-unread);
      }
      .bid-card.unread .time {
        color: var(--text-card-time-unread);
        font-weight: 600;
      }
      .bid-card.unread::after {
        content: "";
        position: absolute;
        right: 0;
        top: 20%;
        transform: translateY(-50%);
        width: 8px;
        height: 8px;
        background-color: var(--unread-dot);
        border-radius: 50%;
      }
      .bid-card .logo {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        object-fit: cover;
        flex-shrink: 0;
      }

      .bid-card .content {
        flex-grow: 1;
      }

      .bid-card .name {
        font-weight: 700;
        font-size: 15px;
        color: var(--text-card-name);
      }

      .bid-card .details {
        font-size: 13px;
        color: var(--text-card-details);
        margin-top: 2px;
      }

      .bid-card .price-section {
        margin-top: 8px;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
      }

      .bid-card .price {
        font-family: "Manrope", sans-serif;
        font-size: 20px;
        font-weight: 800;
        background: linear-gradient(
          to right,
          var(--text-price-gradient-start),
          var(--text-price-gradient-end)
        );
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        line-height: 1;
      }
      .bid-card .price span {
        font-size: 12px;
        font-weight: 500;
        color: var(--text-price-period);
        -webkit-text-fill-color: var(--text-price-period);
      }

      .bid-card .time {
        font-size: 11px;
        color: var(--text-time);
      }

      .system-message {
        text-align: center;
        padding: 8px 12px;
        font-size: 12px;
        color: var(--text-system-msg);
        background: var(--bg-system-msg);
        border-radius: 99px;
        margin: 8px auto 0 auto;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      .system-message.is-visible {
        opacity: 1;
        transform: translateY(0);
      }
      .tab-bar {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 65px;
        background: var(--bg-tab-bar);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-top: 1px solid var(--border-tab-bar);
        display: flex;
        justify-content: space-around;
        align-items: center;
        padding: 0 10px;
        z-index: 100;
      }
      .tab-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 4px;
        color: var(--text-tab-inactive);
        font-size: 10px;
        font-weight: 500;
        text-decoration: none;
        flex: 1;
        height: 100%;
        transition: color 0.2s ease-in-out;
      }
      .tab-item.active {
        color: var(--text-tab-active);
      }
      .tab-item svg {
        width: 24px;
        height: 24px;
      }
      .add-request-button {
        flex: 0.8;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
      }
      .add-request-button > div {
        background: linear-gradient(
          to right,
          var(--bg-add-btn-start),
          var(--bg-add-btn-end)
        );
        width: 56px;
        height: 56px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: -50px;
        box-shadow: 0 4px 15px var(--shadow-add-btn);
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      }
      .add-request-button:active > div {
        transform: scale(0.92);
      }
      .add-request-button svg {
        width: 28px;
        height: 28px;
        color: var(--icon-color-add);
      }
    </style>
  </head>
  <body class="video-frame flex items-center justify-center">
    <!-- 1. Centering wrapper only (no big white card) -->
    <!-- <div
      id="main-container"
      class="flex flex-col items-center justify-center gap-6"
      style="
        padding: 28px;
        border-radius: 30px;
        background: radial-gradient(
            circle at 0% 0%,
            rgba(255, 255, 255, 0.25),
            transparent 55%
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(255, 255, 255, 0.18),
            transparent 55%
          ),
          rgba(10, 10, 10, 0.68);
        box-shadow: 0 24px 80px rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(26px);
        -webkit-backdrop-filter: blur(26px);
        border: 1px solid rgba(255, 255, 255, 0.16);
      "
    > -->
    <!-- Container for the Inbox Animation -->
    <div id="inbox-container">
      <div class="inbox-animation-container">
        <div class="iphone-container" id="phone-1">
          <img
            src="Assets/iphone-16-pro-max.png"
            alt="iPhone Frame"
            class="iphone-skin"
          />
          <div class="screen">
            <div class="status-bar">
              <span class="time">9:41</span>
              <div class="status-right">
                <span class="signal"></span>
                <span class="wifi"></span>
                <span class="battery">
                  <span class="battery-level"></span>
                </span>
              </div>
            </div>
            <div class="chat-app">
              <div class="chat-header">
                <h1 class="title">Messages</h1>
                <!-- <p class="subtitle">Request: Orlando, FL · Dec 28 – Jan 4</p> -->
              </div>
              <div class="message-list" id="message-list">
                <!-- Bids will be injected here by JavaScript -->
              </div>
            </div>
            <div class="tab-bar">
              <a href="#" class="tab-item">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1.5"
                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                  ></path>
                </svg>
                <span>Home</span>
              </a>
              <a href="#" class="tab-item">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1.5"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  ></path>
                </svg>
                <span>Search</span>
              </a>
              <a href="#" class="add-request-button">
                <div>
                  <svg
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                    ></path>
                  </svg>
                </div>
              </a>
              <a href="#" class="tab-item active">
                <svg
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
                  ></path>
                </svg>
                <span>Messages</span>
              </a>
              <a href="#" class="tab-item">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1.5"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  ></path>
                </svg>
                <span>Profile</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- </div> -->

    <script>
      function sleep(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms));
      }

      // --- Inbox Animation Data ---
      const bids = [
        {
          logo: "https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=200&auto=format&fit=crop",
          name: "Marriott World Center",
          details:
            "We have a great offer for you! A Pool View room with 2 Queen Beds.",
          price: 170,
          time: "2m ago",
          unread: true,
        },
        {
          logo: "https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=200&auto=format&fit=crop",
          name: "Grand Hyatt",
          details:
            "Hi there! We can offer a King Room with a beautiful resort view for your dates.",
          price: 185,
          time: "15m ago",
          unread: false,
        },
        {
          logo: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=200&auto=format&fit=crop",
          name: "Rosen Shingle Creek",
          details:
            "Good news! We've got a room with a Golf View available for you.",
          price: 165,
          time: "1h ago",
          unread: true,
        },
        {
          logo: "https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=200&auto=format&fit=crop",
          name: "Hilton Orlando",
          details:
            "Your King Deluxe Suite is waiting! We'd be happy to host you.",
          price: 210,
          time: "Yesterday",
          unread: false,
        },
      ];
      const ANIMATION_START_DELAY = 500;
      const DELAY_BETWEEN_BIDS = 400;

      // --- Theme Management ---
      function setTheme(theme) {
        if (theme === "light") {
          document.documentElement.classList.add("light-theme");
        } else {
          document.documentElement.classList.remove("light-theme");
        }
      }

      // Check URL parameters for theme
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get("theme") === "light") {
        setTheme("light");
      }

      // --- Inbox Animation Functions ---
      function createBidCard(bidData) {
        const card = document.createElement("div");
        card.className = "bid-card";
        if (bidData.unread) {
          card.classList.add("unread");
        }
        card.innerHTML = `
            <img src="${bidData.logo}" alt="${bidData.name} Logo" class="logo">
            <div class="content">
              <div class="name">${bidData.name}</div>
              <div class="details">${bidData.details}</div>
              <div class="price-section">
                <div class="price">
                  $${bidData.price} <span>/ night</span>
                </div>
                <div class="time">${bidData.time}</div>
              </div>
            </div>
          `;
        return card;
      }

      function createSystemMessage() {
        const msg = document.createElement("div");
        msg.className = "system-message";
        msg.innerHTML = `
            ✨ All bids are <strong>100% commission-free</strong>
          `;
        return msg;
      }

      async function animateInbox() {
        const messageList = document.getElementById("message-list");
        if (!messageList) return;

        await sleep(ANIMATION_START_DELAY);

        for (const [index, bid] of bids.entries()) {
          const card = createBidCard(bid);
          if (index % 2 === 0) {
            card.classList.add("anim-left");
          } else {
            card.classList.add("anim-right");
          }
          messageList.appendChild(card);
          await sleep(50);
          card.classList.add("is-visible");
          await sleep(DELAY_BETWEEN_BIDS);
        }

        await sleep(500);
        const systemMessage = createSystemMessage();
        messageList.appendChild(systemMessage);
        await sleep(50);
        systemMessage.classList.add("is-visible");
      }

      // Auto-play once on load
      window.addEventListener("load", () => {
        // Expose to window if you want to re-run from console
        window.animateInbox = animateInbox;
        window.setTheme = setTheme; // Expose theme setter
      });

      // Listen for a message from the parent window to start the animation
      window.addEventListener(
        "message",
        (event) => {
          // Add a basic security check for the origin if needed
          if (event.data === "startAnimation") {
            animateInbox();
          } else if (event.data === "theme:light") {
            setTheme("light");
          } else if (event.data === "theme:dark") {
            setTheme("dark");
          }
        },
        false
      );
    </script>
  </body>
</html>
