<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hotel Site Transition Animation</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap");

      :root {
        --timing-medium: 0.6s;
        --ease-animation: cubic-bezier(0.83, 0, 0.17, 1);
        --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

        /* Animation Durations */
        --duration-phone-flip: 0.5s;
        --duration-phone-shrink: 0.8s;
        --duration-price-transition: 0.6s;
        --duration-availability-transition: 0.6s;
        --duration-doubt-bubble: 0.8s;
        --duration-scroll-animation: 8s;
        --duration-slot-pulse: 1.4s;
        --duration-doubt-wobble: 1.4s;

        /* Scale Values */
        --scale-price-compare: 1.15;
        --scale-price-emphasized: 1.12;
        --scale-availability-card: 1.35;
        --scale-phone-shrink: 0;
        --scale-doubt-bubble-initial: 0;
        --scale-doubt-bubble-visible: 1;
        --scale-doubt-bubble-growing: 1.875; /* Was 2.5, reduced by 25% */
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: #00ff00; /* Green screen for chroma key */
        min-height: 100vh;
        display: flex; /* Changed to flex for centering */
        align-items: center;
        justify-content: center;
        overflow: hidden;
        perspective: 1200px; /* Add perspective for 3D effect */
      }

      .animation-container {
        position: relative;
        width: 364px;
        height: 750px;
        transform-style: preserve-3d;
        perspective: 1200px;
      }

      .iphone-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        /* transform: scale(1.2); */ /* Scale up the whole thing */
        transform-style: preserve-3d; /* Helps with 3D transforms */
        transition: transform var(--duration-phone-flip) var(--ease-animation),
          opacity var(--duration-phone-shrink) var(--ease-animation);
        backface-visibility: hidden; /* Hide the back of the element during rotation */
        will-change: transform, opacity; /* Optimize for upcoming animation */
      }

      #phone-1.is-shrinking,
      #phone-2.is-shrinking {
        opacity: 0;
        pointer-events: none;
      }

      #phone-1.is-shrinking {
        transform: rotateY(-180deg) scale(var(--scale-phone-shrink));
      }

      #phone-2.is-shrinking {
        transform: rotateY(0deg) scale(var(--scale-phone-shrink));
      }

      #phone-1.is-flipped {
        transform: rotateY(-180deg);
        transition-duration: var(--duration-phone-flip);
      }
      #phone-2.is-flipped {
        transform: rotateY(0deg);
        transition-duration: var(--duration-phone-flip);
      }

      .iphone-skin {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 20; /* Ensure phone image is always above screen contents */
        pointer-events: none; /* Allows interaction with the screen */
      }

      .screen {
        position: absolute;
        top: 10px;
        left: 14px;
        right: 14px;
        bottom: 10px;
        background-color: #f0f2f5;
        border-radius: 44px;
        overflow: hidden;
        z-index: 1;
      }

      .website {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transition: transform var(--duration-phone-shrink) var(--ease-animation),
          opacity var(--duration-phone-shrink) var(--ease-animation); /* Smoother timing */
        padding: 72px 20px 36px; /* extra space for status bar & home indicator */
        color: #333;
      }

      /* iPhone-style status bar (top) */
      .status-bar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 25px 20px 15px; /* top padding lets part hide under phone skin */
        font-size: 11px;
        color: #fff;
        background: #1f1f1f; /* dark mode style background */
        border-radius: 0;
        z-index: 10; /* Above website, below phone image */
        pointer-events: none;
      }

      .status-bar .status-right {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .status-bar .signal,
      .status-bar .wifi,
      .status-bar .battery {
        display: inline-block;
      }

      .status-bar .signal {
        width: 14px;
        height: 10px;
        border-radius: 3px;
        background: linear-gradient(
          to right,
          #bbb 30%,
          #e0e0e0 60%,
          #ffffff 100%
        );
      }

      .status-bar .wifi {
        width: 12px;
        height: 10px;
        border-radius: 50%;
        border: 2px solid #f5f5f5;
        border-top-color: transparent;
        border-left-color: transparent;
      }

      .status-bar .battery {
        width: 20px;
        height: 10px;
        border-radius: 3px;
        border: 1.5px solid #f5f5f5;
        position: relative;
      }

      .status-bar .battery::after {
        content: "";
        position: absolute;
        right: -3px;
        top: 2px;
        width: 2px;
        height: 6px;
        border-radius: 1px;
        background: #f5f5f5;
      }

      .status-bar .battery-level {
        position: absolute;
        top: 1px;
        left: 1px;
        right: 3px;
        bottom: 1px;
        border-radius: 2px;
        background: #4caf50;
      }

      /* iPhone-style home indicator (bottom) */
      .home-indicator {
        position: absolute;
        bottom: 14px;
        left: 50%;
        transform: translateX(-50%);
        width: 90px;
        height: 4px;
        border-radius: 999px;
        background: rgba(0, 0, 0, 0.7);
        z-index: 10; /* Above website, under phone skin */
        pointer-events: none;
      }

      /* Overlay layer that lives around the phone to explain the rest of the VO:
         "compare prices, check availability, and still wonder if you are getting the best deal." */
      .overlay-layer {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 30; /* Above phone + screen contents */
        font-size: 12px;
      }

      /* --- Price compare badges ("compare prices") --- */
      .price-compare {
        position: absolute;
        right: -40px; /* Pull closer so it overlaps the phone */
        top: 18%;
        display: flex;
        flex-direction: column;
        gap: 8px;
        opacity: 0;
        transform: translateX(40px) scale(var(--scale-price-compare)); /* Slightly larger by default */
        transform-origin: center;
        transition: opacity var(--duration-price-transition)
            var(--ease-animation),
          transform var(--duration-price-transition) var(--ease-animation);
        will-change: transform, opacity;
      }

      .price-badge {
        min-width: 190px;
        padding: 10px 14px;
        border-radius: 999px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.18);
        background: #ffffff;
        border: 1px solid #e5e5e5;
        transition: transform 0.4s var(--ease-animation),
          box-shadow 0.4s var(--ease-animation);
      }

      .price-badge .label {
        font-weight: 600;
        color: #111827;
      }

      .price-badge .meta {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        color: #9ca3af;
      }

      .price-badge.bad {
        border-color: #fee2e2;
        background: #fef2f2;
        color: #b91c1c;
      }

      .price-badge.best {
        border-color: #bbf7d0;
        background: #ecfdf3;
        color: #166534;
      }

      .price-compare.is-visible {
        opacity: 1;
        transform: translateX(0) scale(var(--scale-price-compare));
      }

      .price-compare.is-emphasized .price-badge.best {
        transform: scale(var(--scale-price-emphasized));
        box-shadow: 0 12px 30px rgba(22, 101, 52, 0.35);
      }

      .price-compare.is-faded-out {
        opacity: 0;
        transform: translateX(-30px);
      }

      /* --- Availability card ("check availability") --- */
      .availability-card {
        position: absolute;
        left: -40px; /* Pull closer so it overlaps the phone */
        bottom: 14%;
        width: 190px;
        padding: 14px 16px;
        border-radius: 18px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
        opacity: 0;
        transform: translateY(24px) scale(var(--scale-availability-card));
        transform-origin: center;
        transition: opacity var(--duration-availability-transition)
            var(--ease-animation),
          transform var(--duration-availability-transition)
            var(--ease-animation);
        will-change: transform, opacity;
      }

      .availability-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
        font-size: 0.72rem;
      }

      .availability-header .label {
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #9ca3af;
        font-weight: 600;
      }

      .availability-header .dates {
        font-weight: 600;
        color: #111827;
      }

      .availability-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 4px;
        margin-bottom: 8px;
      }

      .slot {
        width: 20px;
        height: 20px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.65rem;
        font-weight: 600;
        position: relative; /* For z-index stacking */
      }

      .slot.booked {
        background: #fee2e2;
        color: #b91c1c;
      }

      .slot.free {
        background: #d1fae5;
        color: #065f46;
      }

      .slot.free::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background-color: #d1fae5;
        z-index: -1;
        transform-origin: center;
        opacity: 0;
        pointer-events: none;
        will-change: transform, opacity;
      }

      .availability-caption {
        font-size: 0.7rem;
        color: #6b7280;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .availability-caption span.highlight {
        color: #b91c1c;
        font-weight: 600;
      }

      .availability-card.is-visible {
        opacity: 1;
        transform: translateY(0) scale(var(--scale-availability-card));
      }

      @keyframes slot-pulse {
        0% {
          transform: scale(1);
          opacity: 0.6;
        }
        100% {
          transform: scale(2.5);
          opacity: 0;
        }
      }

      .availability-card.is-scanning .slot.free::before {
        animation: slot-pulse var(--duration-slot-pulse) ease-out infinite;
      }

      .availability-card.is-faded-out {
        opacity: 0;
        transform: translateY(20px);
      }

      /* --- Doubt cloud ("still wonder if you are getting the best deal.") --- */
      .doubt-bubble {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translateX(-50%) translateY(-50%)
          scale(var(--scale-doubt-bubble-initial));
        padding: 20px 32px;
        border-radius: 999px;
        background: #ffffff;
        border: 2px solid #e5e7eb;
        box-shadow: 0 20px 48px rgba(0, 0, 0, 0.25);
        display: inline-flex;
        align-items: center;
        gap: 6px;
        opacity: 0;
        transition: opacity var(--duration-doubt-bubble) var(--ease-animation),
          transform var(--duration-doubt-bubble) var(--ease-animation);
        will-change: transform, opacity;
        font-size: 1.2rem;
        color: #111827;
        z-index: 50; /* Above everything */
      }

      .doubt-bubble .emoji {
        font-size: 1.8rem;
      }

      .doubt-bubble .text {
        font-weight: 600;
        white-space: nowrap;
      }

      .doubt-bubble.is-visible {
        opacity: 1;
        transform: translateX(-50%) translateY(-50%)
          scale(var(--scale-doubt-bubble-growing));
        transition-property: opacity, transform;
        transition-duration: var(--duration-doubt-bubble),
          calc(var(--duration-doubt-bubble) * 1.2);
        transition-timing-function: var(--ease-animation);
      }

      @keyframes doubt-wobble {
        0%,
        100% {
          transform: translateX(-50%) translateY(-50%)
            scale(var(--scale-doubt-bubble-growing)) rotate(0deg);
        }
        25% {
          transform: translateX(-52%) translateY(-52%)
            scale(var(--scale-doubt-bubble-growing)) rotate(-2deg);
        }
        50% {
          transform: translateX(-48%) translateY(-48%)
            scale(var(--scale-doubt-bubble-growing)) rotate(1.5deg);
        }
        75% {
          transform: translateX(-51%) translateY(-51%)
            scale(var(--scale-doubt-bubble-growing)) rotate(-1deg);
        }
      }

      .doubt-bubble.is-wobbling {
        animation: doubt-wobble var(--duration-doubt-wobble) ease-in-out
          infinite;
      }

      #phone-2 {
        transform: rotateY(180deg);
      }

      #site-1 {
        z-index: 4; /* Will be behind site-2 during transition */
      }

      #site-2 {
        /* transform: translateX(100%); */
        z-index: 5; /* Will slide in on top of site-1 */
      }

      /* --- Site 1: LuxeStay (Elegant & Minimal) --- */
      #site-1 {
        background: #f8f9fa; /* Lighter, cleaner background */
        color: #212529; /* Darker, more readable text */
      }
      #site-1 .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-bottom: 16px;
        border-bottom: 1px solid #dee2e6; /* Softer border */
      }
      #site-1 .logo {
        font-weight: 700;
        font-size: 1.1rem;
        letter-spacing: 0.5px;
      }
      #site-1 .topbar .icons {
        display: flex;
        gap: 16px;
        color: #495057;
      }
      #site-1 .icon svg {
        width: 22px;
        height: 22px;
        stroke-width: 1.5;
      }
      #site-1 .pill-search {
        display: flex;
        align-items: center;
        gap: 12px;
        background: #ffffff;
        padding: 14px 16px;
        border-radius: 999px; /* Fully rounded pill */
        margin-top: 20px;
        font-size: 0.9rem;
        color: #6c757d;
        border: 1px solid #e9ecef;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04); /* Softer shadow */
      }
      #site-1 .pill-search svg {
        width: 18px;
        height: 18px;
        color: #495057;
      }
      #site-1 .stats-row {
        display: flex;
        gap: 18px;
        margin-top: 20px;
        font-size: 0.8rem;
        color: #6c757d;
      }
      #site-1 .section-heading {
        margin-top: 24px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #adb5bd;
      }
      #site-1 .hotel-list {
        margin-top: 14px;
        display: grid;
        gap: 14px;
      }
      #site-1 .hotel-item {
        display: grid;
        grid-template-columns: 100px 1fr;
        gap: 14px;
        background: #ffffff;
        padding: 14px;
        border-radius: 18px;
        border: 1px solid #e9ecef;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
      }
      #site-1 .thumb {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 14px;
      }
      #site-1 .meta {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      #site-1 .name {
        font-weight: 600;
        font-size: 1rem;
        color: #212529;
      }
      #site-1 .sub {
        font-size: 0.8rem;
        color: #6c757d;
      }
      #site-1 .rating-row {
        display: flex;
        gap: 8px;
        align-items: center;
        font-size: 0.8rem;
        color: #495057;
      }
      #site-1 .badge {
        background: #e7f5ff; /* Softer, light blue badge */
        color: #1971c2;
        padding: 5px 10px;
        border-radius: 999px;
        font-size: 0.7rem;
        font-weight: 700;
      }
      #site-1 .price {
        margin-top: auto; /* Pushes price to the bottom */
        color: #212529;
        font-weight: 700;
        font-size: 1.05rem;
      }
      #site-1 .price span {
        font-weight: 400;
        font-size: 0.8rem;
        color: #6c757d;
      }

      /* --- Site 2: StayFinder (Modern & Vibrant) --- */
      #site-2 {
        background-color: #ffffff;
        color: #1a1a1a; /* Stronger base text color */
      }
      #site-2 .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-bottom: 16px;
        border-bottom: 1px solid #f0f0f0;
        font-weight: 700;
        font-size: 1.1rem;
      }
      #site-2 .topbar .logo {
        color: #ff4500; /* Use the brand color */
        font-size: 0.88rem; /* 20% smaller than 1.1rem */
      }
      #site-2 .topbar .bubble {
        background: #ff4500;
        color: #fff;
        font-size: 0.6rem;
        padding: 5px 10px;
        border-radius: 999px;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        font-weight: 700;
      }
      #site-2 .search-rect {
        margin-top: 20px;
        background: #f7f7f7;
        border: 1px solid #f0f0f0;
        border-radius: 12px;
        padding: 14px;
        color: #555;
        display: flex;
        gap: 12px;
        align-items: center;
        font-size: 0.95rem;
      }
      #site-2 .search-rect svg {
        width: 20px;
        height: 20px;
        color: #ff4500;
      }
      #site-2 .headline-card {
        margin-top: 20px;
        border-radius: 18px;
        overflow: hidden;
        background: linear-gradient(135deg, #fff3e0, #ffffff);
        border: 1px solid #ffe8cc;
        box-shadow: 0 12px 28px rgba(255, 69, 0, 0.1);
      }
      #site-2 .headline-card .photo {
        height: 110px;
        background-size: cover;
        background-position: center;
      }
      #site-2 .headline-card .copy {
        padding: 16px;
      }
      #site-2 .headline-card .copy .title {
        font-weight: 700;
        font-size: 1rem;
        color: #d93d00;
      }
      #site-2 .headline-card .copy .subtitle {
        margin-top: 4px;
        color: #555;
        font-size: 0.85rem;
      }
      #site-2 .list-title {
        margin-top: 24px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #aaa;
      }
      #site-2 .card {
        margin-top: 14px;
        border: 1px solid #f0f0f0;
        border-radius: 18px;
        overflow: hidden;
        background: #ffffff;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
      }
      #site-2 .photo {
        height: 120px;
        background-size: cover;
        background-position: center;
        position: relative;
      }
      #site-2 .badge {
        position: absolute;
        left: 12px;
        bottom: 12px;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(5px);
        color: #fff;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 0.7rem;
        font-weight: 700;
      }
      #site-2 .info {
        padding: 14px;
        display: grid;
        gap: 6px;
      }
      #site-2 .info .name {
        font-weight: 600;
        font-size: 1rem;
      }
      #site-2 .info .sub {
        color: #666;
        font-size: 0.85rem;
      }
      #site-2 .info .amenities {
        margin-top: 4px;
        display: flex;
        gap: 12px;
        font-size: 0.8rem;
        color: #ff4500;
        font-weight: 500;
      }
      #site-2 .info .amenities span {
        display: flex;
        align-items: center;
        gap: 5px;
      }
      #site-2 .info .amenities svg {
        width: 14px;
        height: 14px;
      }

      @keyframes scroll-up {
        from {
          transform: translateY(0);
        }
        to {
          transform: translateY(-50%);
        }
      }

      #site-2 .scroll-content.is-scrolling {
        animation: scroll-up var(--duration-scroll-animation) ease-in-out
          infinite;
      }

      /* Give scrolling content some breathing room above the home indicator */
      #site-2 .scroll-content {
        padding-bottom: 40px;
        will-change: transform;
      }
    </style>
  </head>
  <body>
    <div class="animation-container">
      <div class="iphone-container" id="phone-1">
        <img
          src="Assets/iphone-16-pro-max.png"
          alt="iPhone 16 Pro Max skin"
          class="iphone-skin"
        />
        <div class="screen">
          <div class="status-bar">
            <span class="time">9:41</span>
            <div class="status-right">
              <span class="signal"></span>
              <span class="wifi"></span>
              <span class="battery">
                <span class="battery-level"></span>
              </span>
            </div>
          </div>
          <!-- Website 1 -->
          <div id="site-1" class="website">
            <div class="topbar">
              <div class="logo">LuxeStay</div>
              <div class="icons">
                <span class="icon"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M12 3v1" />
                    <path d="M12 20v1" />
                    <path d="M3 12h1" />
                    <path d="M20 12h1" />
                    <path d="m18.36 5.64-.7 .7" />
                    <path d="m6.34 17.66-.7 .7" />
                    <path d="m18.36 18.36-.7-.7" />
                    <path d="m6.34 6.34-.7-.7" />
                    <circle cx="12" cy="12" r="5" />
                    <path d="M12 18a6 6 0 0 0 6-6h-3a3 3 0 0 1-3 3v3z" /></svg
                ></span>
                <span class="icon"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <line x1="3" y1="12" x2="21" y2="12" />
                    <line x1="3" y1="6" x2="21" y2="6" />
                    <line x1="3" y1="18" x2="21" y2="18" /></svg
                ></span>
              </div>
            </div>
            <div class="pill-search">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="11" cy="11" r="8" />
                <line x1="21" y1="21" x2="16.65" y2="16.65" />
              </svg>
              <span class="placeholder">Search hotels, city...</span>
            </div>
            <div class="stats-row">
              <span>Paris ¬∑ Tonight ¬∑ 2 guests</span>
            </div>
            <div class="section-heading">Featured stays</div>
            <div class="hotel-list">
              <div class="hotel-item">
                <img
                  class="thumb"
                  src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=400&auto=format&fit=crop"
                  alt="hotel"
                />
                <div class="meta">
                  <div class="name">The Grand Budapest</div>
                  <div class="sub">Zubrowka Old Town</div>
                  <div class="rating-row">
                    <span>‚≠ê 4.9 (2.1k)</span>
                  </div>
                  <div class="price">$189 <span>/ night</span></div>
                </div>
              </div>
              <div class="hotel-item">
                <img
                  class="thumb"
                  src="https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=400&auto=format&fit=crop"
                  alt="hotel"
                />
                <div class="meta">
                  <div class="name">Riviera Palace</div>
                  <div class="sub">Nice Promenade</div>
                  <div class="rating-row">
                    <span class="badge">Member Price</span>
                  </div>
                  <div class="price">$142 <span>/ night</span></div>
                </div>
              </div>
              <div class="hotel-item">
                <img
                  class="thumb"
                  src="https://images.unsplash.com/photo-1540541338287-41700207dee6?q=80&w=400&auto=format&fit=crop"
                  alt="hotel"
                />
                <div class="meta">
                  <div class="name">Skyline Suites</div>
                  <div class="sub">Singapore Marina Bay</div>
                  <div class="rating-row">
                    <span>‚≠ê 4.8 (1.4k)</span>
                  </div>
                  <div class="price">$220 <span>/ night</span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="home-indicator"></div>
        </div>
      </div>
      <div class="iphone-container" id="phone-2">
        <img
          src="Assets/iphone-16-pro-max.png"
          alt="iPhone 16 Pro Max skin"
          class="iphone-skin"
        />
        <div class="screen">
          <div class="status-bar">
            <span class="time">9:41</span>
            <div class="status-right">
              <span class="signal"></span>
              <span class="wifi"></span>
              <span class="battery">
                <span class="battery-level"></span>
              </span>
            </div>
          </div>
          <!-- Website 2 -->
          <div id="site-2" class="website">
            <div class="scroll-content">
              <div class="topbar">
                <div class="logo">StayFinder</div>
                <div class="bubble">Flash deal</div>
              </div>
              <div class="search-rect">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="11" cy="11" r="8" />
                  <line x1="21" y1="21" x2="16.65" y2="16.65" />
                </svg>
                <span>Search for stays</span>
              </div>
              <div class="headline-card">
                <div
                  class="photo"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1455587734955-081b22074882?q=80&w=800&auto=format&fit=crop');
                  "
                ></div>
                <div class="copy">
                  <div class="title">Weekend escape under $120</div>
                  <div class="subtitle">
                    48-hour sale on curated city breaks.
                  </div>
                </div>
              </div>
              <div class="list-title">Nearby deals</div>
              <div class="card">
                <div
                  class="photo"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1496417263034-38ec4f0b665a?q=80&w=800&auto=format&fit=crop');
                  "
                >
                  <div class="badge">$79 / night</div>
                </div>
                <div class="info">
                  <div class="name">City Center Inn</div>
                  <div class="sub">‚≠ê 4.1 ¬∑ 1.2k reviews</div>
                  <div class="amenities">
                    <span
                      ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M18 6H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"
                        />
                        <path d="M6 14h12" />
                        <path d="M14 14h2" />
                        <path
                          d="M12 6c-2.5 0-5 2.5-5 5 0 .8.2 1.6.7 2.3.4.6.9 1.1 1.5 1.7"
                        /></svg
                      >24h desk</span
                    >
                    <span
                      ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M17 8h1a4 4 0 1 1 0 8h-1" />
                        <path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z" />
                        <line x1="6" y1="2" x2="6" y2="4" />
                        <line x1="10" y1="2" x2="10" y2="4" />
                        <line x1="14" y1="2" x2="14" y2="4" /></svg
                      >Breakfast</span
                    >
                  </div>
                </div>
              </div>
              <div class="card">
                <div
                  class="photo"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1470124182917-cc6e71b22ecc?q=80&w=800&auto=format&fit=crop');
                  "
                >
                  <div class="badge">$55 / night</div>
                </div>
                <div class="info">
                  <div class="name">Airport Motel</div>
                  <div class="sub">‚≠ê 3.9 ¬∑ 870 reviews</div>
                  <div class="amenities">
                    <span
                      ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path
                          d="M19 17h2v-3h-2v-1a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1H9v-1a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v1H2v3h2v-1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h2v-1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1Z"
                        />
                        <path d="M12 12V6.5a2.5 2.5 0 0 0-5 0V12" /></svg
                      >Shuttle</span
                    >
                    <span
                      ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M5 12.55a11 11 0 0 1 14.08 0" />
                        <path d="M1.42 9a16 16 0 0 1 21.16 0" />
                        <path d="M8.53 16a6 6 0 0 1 6.95 0" />
                        <line x1="12" y1="20" x2="12.01" y2="20" /></svg
                      >Wi-Fi</span
                    >
                  </div>
                </div>
              </div>
              <div class="card">
                <div
                  class="photo"
                  style="
                    background-image: url('https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?q=80&w=800&auto=format&fit=crop');
                  "
                >
                  <div class="badge">$120 / night</div>
                </div>
                <div class="info">
                  <div class="name">Seaside Resort</div>
                  <div class="sub">‚≠ê 4.6 ¬∑ 2.3k reviews</div>
                  <div class="amenities">
                    <span
                      ><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path d="M22 12c-2.5 0-5 2.5-5 5s2.5 5 5 5" />
                        <path d="M22 7c-2.5 0-5 2.5-5 5" />
                        <path d="M2 17c2.5 0 5-2.5 5-5s-2.5-5-5-5" />
                        <path d="M2 12c2.5 0 5-2.5 5-5" />
                        <path
                          d="M12 2a2.5 2.5 0 0 1 2.5 2.5c0 1.5-2.5 5-2.5 5s-2.5-3.5-2.5-5A2.5 2.5 0 0 1 12 2z"
                        /></svg
                      >Pool</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="home-indicator"></div>
        </div>
      </div>
      <!-- Overlay that visualizes:
             1) compare prices (price badges)
             2) check availability (mini calendar)
             3) still wonder if you are getting the best deal (doubt bubble) -->
      <div class="overlay-layer">
        <div class="price-compare">
          <div class="price-badge bad">
            <div class="label">$219</div>
            <div class="meta">Site A</div>
          </div>
          <div class="price-badge best">
            <div class="label">$189</div>
            <div class="meta">Site B</div>
          </div>
        </div>

        <div class="availability-card">
          <div class="availability-header">
            <span class="label">Availability</span>
            <span class="dates">Oct 12‚Äì15</span>
          </div>
          <div class="availability-grid">
            <div class="slot booked">12</div>
            <div class="slot booked">13</div>
            <div class="slot free">14</div>
            <div class="slot booked">15</div>
          </div>
          <div class="availability-caption">
            <span class="highlight">1 room</span>
            <span>left tonight</span>
          </div>
        </div>

        <div class="doubt-bubble">
          <span class="emoji">ü§î</span>
          <span class="text">Is this really the best deal?</span>
        </div>
      </div>
    </div>

    <script>
      // ============================================
      // ANIMATION TIMING CONSTANTS
      // ============================================

      // Base delay before any animation starts
      const TRANSITION_DELAY = 6000; // ms

      // Phone flip timing
      const PHONE_FLIP_DELAY = 0; // ms after base delay
      const SCROLL_START_DELAY = 500; // ms after phone flip

      // Price comparison timing
      const PRICE_VISIBLE_DELAY = 900; // ms after base delay
      const PRICE_EMPHASIZED_DELAY = 2200; // ms after base delay
      const PRICE_FADE_OUT_DELAY = 3400; // ms after base delay

      // Availability card timing
      const AVAILABILITY_VISIBLE_DELAY = 3800; // ms after base delay
      const AVAILABILITY_SCAN_DELAY = 4200; // ms after base delay
      const AVAILABILITY_FADE_OUT_DELAY = 6500; // ms after base delay

      // Phone shrink & doubt bubble timing
      const PHONE_SHRINK_DELAY = 6500; // ms after base delay
      const DOUBT_VISIBLE_DELAY = 6500; // ms after base delay

      // ============================================
      // DOM ELEMENTS
      // ============================================
      const phone1 = document.getElementById("phone-1");
      const phone2 = document.getElementById("phone-2");
      const priceCompare = document.querySelector(".price-compare");
      const availabilityCard = document.querySelector(".availability-card");
      const doubtBubble = document.querySelector(".doubt-bubble");

      function animateTransition() {
        const base = TRANSITION_DELAY;

        // 1) "You open one site, then another" ‚Äì handled by the phone flip
        setTimeout(() => {
          phone1.classList.add("is-flipped");
          phone2.classList.add("is-flipped");
        }, base + PHONE_FLIP_DELAY);

        // Start subtle auto-scroll on the second site
        setTimeout(() => {
          const scrollContent = document.querySelector(
            "#site-2 .scroll-content"
          );
          if (scrollContent) {
            scrollContent.classList.add("is-scrolling");
          }
        }, base + SCROLL_START_DELAY);

        // 2) "compare prices" ‚Äì bring in price badges on the side
        if (priceCompare) {
          setTimeout(() => {
            priceCompare.classList.add("is-visible");
          }, base + PRICE_VISIBLE_DELAY);

          setTimeout(() => {
            priceCompare.classList.add("is-emphasized");
          }, base + PRICE_EMPHASIZED_DELAY);

          setTimeout(() => {
            priceCompare.classList.add("is-faded-out");
          }, base + PRICE_FADE_OUT_DELAY);
        }

        // 3) "check availability" ‚Äì mini calendar scanning for the last free slot
        if (availabilityCard) {
          setTimeout(() => {
            availabilityCard.classList.add("is-visible");
          }, base + AVAILABILITY_VISIBLE_DELAY);

          setTimeout(() => {
            availabilityCard.classList.add("is-scanning");
          }, base + AVAILABILITY_SCAN_DELAY);

          setTimeout(() => {
            availabilityCard.classList.add("is-faded-out");
          }, base + AVAILABILITY_FADE_OUT_DELAY);
        }

        // 4) "and still wonder if you are getting the best deal." ‚Äì shrink phone and grow doubt bubble
        setTimeout(() => {
          // Stop scrolling
          const scrollContent = document.querySelector(
            "#site-2 .scroll-content"
          );
          if (scrollContent) {
            scrollContent.classList.remove("is-scrolling");
          }

          // Shrink both phones. The transform is now handled in CSS to preserve rotation.
          phone1.classList.add("is-shrinking");
          phone2.classList.add("is-shrinking");
        }, base + PHONE_SHRINK_DELAY);

        // Show and grow the doubt bubble
        if (doubtBubble) {
          setTimeout(() => {
            doubtBubble.classList.add("is-visible");
          }, base + DOUBT_VISIBLE_DELAY);

          const startWobble = (event) => {
            // We only want to listen for the transform transition to end
            if (event.propertyName === "transform") {
              doubtBubble.classList.add("is-wobbling");
              doubtBubble.removeEventListener("transitionend", startWobble);
            }
          };
          doubtBubble.addEventListener("transitionend", startWobble);
        }
      }

      // Start the animation on page load
      animateTransition();
      // Dynamically scale container to fit browser viewport for better performance
      function scaleToViewport() {
        const container = document.querySelector(".animation-container");
        const baseWidth = 364; // From CSS
        const baseHeight = 750; // From CSS

        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        const widthScale = viewportWidth / baseWidth;
        const heightScale = viewportHeight / baseHeight;

        // Use 90% of available space for margin
        const scale = Math.min(widthScale, heightScale) * 0.9;

        container.style.transform = `scale(${scale})`;
      }

      window.addEventListener("load", scaleToViewport);
      window.addEventListener("resize", scaleToViewport);
    </script>
  </body>
</html>
